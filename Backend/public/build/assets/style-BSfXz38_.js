import{f as l,c as T,a as d,b as E,i as p}from"./@reduxjs-CoG1l1Ug.js";import{p as S,d as _,a as G}from"./redux-persist-72Rgh1JU.js";const R="https://shubhamshrestha.com.np",m=R+"/api",A=l({baseUrl:m,prepareHeaders:(e,{getState:s,endpoint:t})=>{var a,i,n;e.set("Accept","application/json");let o=(n=(i=(a=s())==null?void 0:a.user)==null?void 0:i.value)==null?void 0:n.token;return o&&e.set("Authorization",`Bearer ${o}`),e}}),O=T({baseQuery:A,endpoints:()=>({})}),f={GET_PORTFOLIO_DETAILS:"GET_PORTFOLIO_DETAILS",GET_DASHBOARD:"GET_DASHBOARD",GET_USER_SETTINGS:"GET_USER_SETTINGS",GET_CONTACT_US:"GET_CONTACT_US",GET_LOGIN:"GET_LOGIN",GET_TECHNOLOGY:"GET_TECHNOLOGY",GET_PROJECT:"GET_PROJECT",GET_MESSAGE:"GET_MESSAGE"},r=O.enhanceEndpoints({addTagTypes:Object.values(f)}),y=typeof window>"u",v=()=>({getItem(e){return Promise.resolve(null)},setItem(e,s){return Promise.resolve(s)},removeItem(e){return Promise.resolve()}}),U=y?v():_,h={value:null},u=d({name:"user",initialState:h,reducers:{setReduxUser:(e,s)=>{e.value=s.payload},logoutReduxUser:e=>{e.value=null,c.dispatch(r.util.resetApiState())}}}),{setReduxUser:w,logoutReduxUser:I}=u.actions,P={key:"root",storage:U},C=S(P,u.reducer),L=typeof window>"u",g=({dispatch:e})=>s=>t=>(p(t)&&t.payload.status===401&&e(I()),s(t)),c=E({reducer:{user:C,[r.reducerPath]:r.reducer},middleware:e=>e({serializableCheck:!1}).concat([r.middleware,g])}),b=()=>L?Promise.reject(new Error("Cannot initialize persistor on the server")):Promise.resolve(G(c));export{f as R,R as S,w as a,r as e,b as i,I as l,c as s};
