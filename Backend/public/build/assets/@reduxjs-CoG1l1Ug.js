var pt=Object.defineProperty;var yt=(e,t,s)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var me=(e,t,s)=>yt(e,typeof t!="symbol"?t+"":t,s);import{p as ht}from"./vite-plugin-node-polyfills-CBtbB8OZ.js";import{i as W,c as Ye,a as gt,b as mt,d as we,e as Ze}from"./redux-DITMfSWq.js";import{i as qe,p as ae,a as et,b as Qe,e as bt,c as tt,o as vt}from"./immer-fBqQtvEc.js";import{t as St,w as Rt}from"./redux-thunk-ClJT1hhx.js";import{w as Te,c as nt}from"./reselect-C27TLnWV.js";import{b as wt,u as Mt,a as Et,c as At,s as se}from"./react-redux-L49Ke7qb.js";import{r as Q}from"./react-ZtzTtHoT.js";var qt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?we:we.apply(null,arguments)},Ct=e=>e&&typeof e.match=="function";function N(e,t){function s(...l){if(t){let d=t(...l);if(!d)throw new Error($(0));return{type:e,payload:d.payload,..."meta"in d&&{meta:d.meta},..."error"in d&&{error:d.error}}}return{type:e,payload:l[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=l=>Ze(l)&&l.type===e,s}var rt=class ie extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ie.prototype)}static get[Symbol.species](){return ie}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ie(...t[0].concat(this)):new ie(...t.concat(this))}};function ke(e){return qe(e)?ae(e,()=>{}):e}function _e(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function Ot(e){return typeof e=="boolean"}var It=()=>function(t){const{thunk:s=!0,immutableCheck:l=!0,serializableCheck:d=!0,actionCreatorCheck:S=!0}=t??{};let b=new rt;return s&&(Ot(s)?b.push(St):b.push(Rt(s.extraArgument))),b},G="RTK_autoBatch",ne=()=>e=>({payload:e,meta:{[G]:!0}}),Pe=e=>t=>{setTimeout(t,e)},Dt=(e={type:"raf"})=>t=>(...s)=>{const l=t(...s);let d=!0,S=!1,b=!1;const C=new Set,q=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Pe(10):e.type==="callback"?e.queueNotification:Pe(e.timeout),w=()=>{b=!1,S&&(S=!1,C.forEach(M=>M()))};return Object.assign({},l,{subscribe(M){const R=()=>d&&M(),f=l.subscribe(R);return C.add(M),()=>{f(),C.delete(M)}},dispatch(M){var R;try{return d=!((R=M==null?void 0:M.meta)!=null&&R[G]),S=!d,S&&(b||(b=!0,q(w))),l.dispatch(M)}finally{d=!0}}})},jt=e=>function(s){const{autoBatch:l=!0}=s??{};let d=new rt(e);return l&&d.push(Dt(typeof l=="object"?l:void 0)),d};function Vn(e){const t=It(),{reducer:s=void 0,middleware:l,devTools:d=!0,preloadedState:S=void 0,enhancers:b=void 0}=e;let C;if(typeof s=="function")C=s;else if(W(s))C=Ye(s);else throw new Error($(1));let q;typeof l=="function"?q=l(t):q=t();let w=we;d&&(w=qt({trace:!1,...typeof d=="object"&&d}));const M=gt(...q),R=jt(M);let f=typeof b=="function"?b(R):R();const u=w(...f);return mt(C,S,u)}function it(e){const t={},s=[];let l;const d={addCase(S,b){const C=typeof S=="string"?S:S.type;if(!C)throw new Error($(28));if(C in t)throw new Error($(29));return t[C]=b,d},addMatcher(S,b){return s.push({matcher:S,reducer:b}),d},addDefaultCase(S){return l=S,d}};return e(d),[t,s,l]}function Qt(e){return typeof e=="function"}function Tt(e,t){let[s,l,d]=it(t),S;if(Qt(e))S=()=>ke(e());else{const C=ke(e);S=()=>C}function b(C=S(),q){let w=[s[q.type],...l.filter(({matcher:M})=>M(q)).map(({reducer:M})=>M)];return w.filter(M=>!!M).length===0&&(w=[d]),w.reduce((M,R)=>{if(R)if(et(M)){const u=R(M,q);return u===void 0?M:u}else{if(qe(M))return ae(M,f=>R(f,q));{const f=R(M,q);if(f===void 0){if(M===null)return M;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return M},C)}return b.getInitialState=S,b}var st=(e,t)=>Ct(e)?e.match(t):e(t);function B(...e){return t=>e.some(s=>st(s,t))}function oe(...e){return t=>e.every(s=>st(s,t))}function he(e,t){if(!e||!e.meta)return!1;const s=typeof e.meta.requestId=="string",l=t.indexOf(e.meta.requestStatus)>-1;return s&&l}function le(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Ce(...e){return e.length===0?t=>he(t,["pending"]):le(e)?B(...e.map(t=>t.pending)):Ce()(e[0])}function te(...e){return e.length===0?t=>he(t,["rejected"]):le(e)?B(...e.map(t=>t.rejected)):te()(e[0])}function ge(...e){const t=s=>s&&s.meta&&s.meta.rejectedWithValue;return e.length===0?oe(te(...e),t):le(e)?oe(te(...e),t):ge()(e[0])}function H(...e){return e.length===0?t=>he(t,["fulfilled"]):le(e)?B(...e.map(t=>t.fulfilled)):H()(e[0])}function Me(...e){return e.length===0?t=>he(t,["pending","fulfilled","rejected"]):le(e)?B(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):Me()(e[0])}var kt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Oe=(e=21)=>{let t="",s=e;for(;s--;)t+=kt[Math.random()*64|0];return t},_t=["name","message","stack","code"],be=class{constructor(e,t){me(this,"_type");this.payload=e,this.meta=t}},Fe=class{constructor(e,t){me(this,"_type");this.payload=e,this.meta=t}},Pt=e=>{if(typeof e=="object"&&e!==null){const t={};for(const s of _t)typeof e[s]=="string"&&(t[s]=e[s]);return t}return{message:String(e)}},ze=(()=>{function e(t,s,l){const d=N(t+"/fulfilled",(q,w,M,R)=>({payload:q,meta:{...R||{},arg:M,requestId:w,requestStatus:"fulfilled"}})),S=N(t+"/pending",(q,w,M)=>({payload:void 0,meta:{...M||{},arg:w,requestId:q,requestStatus:"pending"}})),b=N(t+"/rejected",(q,w,M,R,f)=>({payload:R,error:(l&&l.serializeError||Pt)(q||"Rejected"),meta:{...f||{},arg:M,requestId:w,rejectedWithValue:!!R,requestStatus:"rejected",aborted:(q==null?void 0:q.name)==="AbortError",condition:(q==null?void 0:q.name)==="ConditionError"}}));function C(q){return(w,M,R)=>{const f=l!=null&&l.idGenerator?l.idGenerator(q):Oe(),u=new AbortController;let p,c;function g(r){c=r,u.abort()}const A=async function(){var i,v;let r;try{let h=(i=l==null?void 0:l.condition)==null?void 0:i.call(l,q,{getState:M,extra:R});if(zt(h)&&(h=await h),h===!1||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const o=new Promise((a,y)=>{p=()=>{y({name:"AbortError",message:c||"Aborted"})},u.signal.addEventListener("abort",p)});w(S(f,q,(v=l==null?void 0:l.getPendingMeta)==null?void 0:v.call(l,{requestId:f,arg:q},{getState:M,extra:R}))),r=await Promise.race([o,Promise.resolve(s(q,{dispatch:w,getState:M,extra:R,requestId:f,signal:u.signal,abort:g,rejectWithValue:(a,y)=>new be(a,y),fulfillWithValue:(a,y)=>new Fe(a,y)})).then(a=>{if(a instanceof be)throw a;return a instanceof Fe?d(a.payload,f,q,a.meta):d(a,f,q)})])}catch(h){r=h instanceof be?b(null,f,q,h.payload,h.meta):b(h,f,q)}finally{p&&u.signal.removeEventListener("abort",p)}return l&&!l.dispatchConditionRejection&&b.match(r)&&r.meta.condition||w(r),r}();return Object.assign(A,{abort:g,requestId:f,arg:q,unwrap(){return A.then(Ft)}})}}return Object.assign(C,{pending:S,rejected:b,fulfilled:d,settled:B(b,d),typePrefix:t})}return e.withTypes=()=>e,e})();function Ft(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function zt(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Ut=Symbol.for("rtk-slice-createasyncthunk");function xt(e,t){return`${e}/${t}`}function Lt({creators:e}={}){var s;const t=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[Ut];return function(d){const{name:S,reducerPath:b=S}=d;if(!S)throw new Error($(11));const C=(typeof d.reducers=="function"?d.reducers($t()):d.reducers)||{},q=Object.keys(C),w={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},M={addCase(n,i){const v=typeof n=="string"?n:n.type;if(!v)throw new Error($(12));if(v in w.sliceCaseReducersByType)throw new Error($(13));return w.sliceCaseReducersByType[v]=i,M},addMatcher(n,i){return w.sliceMatchers.push({matcher:n,reducer:i}),M},exposeAction(n,i){return w.actionCreators[n]=i,M},exposeCaseReducer(n,i){return w.sliceCaseReducersByName[n]=i,M}};q.forEach(n=>{const i=C[n],v={reducerName:n,type:xt(S,n),createNotation:typeof d.reducers=="function"};Kt(i)?Wt(v,i,M,t):Bt(v,i,M)});function R(){const[n={},i=[],v=void 0]=typeof d.extraReducers=="function"?it(d.extraReducers):[d.extraReducers],h={...n,...w.sliceCaseReducersByType};return Tt(d.initialState,o=>{for(let a in h)o.addCase(a,h[a]);for(let a of w.sliceMatchers)o.addMatcher(a.matcher,a.reducer);for(let a of i)o.addMatcher(a.matcher,a.reducer);v&&o.addDefaultCase(v)})}const f=n=>n,u=new Map;let p;function c(n,i){return p||(p=R()),p(n,i)}function g(){return p||(p=R()),p.getInitialState()}function A(n,i=!1){function v(o){let a=o[n];return typeof a>"u"&&i&&(a=g()),a}function h(o=f){const a=_e(u,i,()=>new WeakMap);return _e(a,o,()=>{const y={};for(const[m,E]of Object.entries(d.selectors??{}))y[m]=Nt(E,o,g,i);return y})}return{reducerPath:n,getSelectors:h,get selectors(){return h(v)},selectSlice:v}}const r={name:S,reducer:c,actions:w.actionCreators,caseReducers:w.sliceCaseReducersByName,getInitialState:g,...A(b),injectInto(n,{reducerPath:i,...v}={}){const h=i??b;return n.inject({reducerPath:h,reducer:c},v),{...r,...A(h,!0)}}};return r}}function Nt(e,t,s,l){function d(S,...b){let C=t(S);return typeof C>"u"&&l&&(C=s()),e(C,...b)}return d.unwrapped=e,d}var X=Lt();function $t(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function Bt({type:e,reducerName:t,createNotation:s},l,d){let S,b;if("reducer"in l){if(s&&!Vt(l))throw new Error($(17));S=l.reducer,b=l.prepare}else S=l;d.addCase(e,S).exposeCaseReducer(t,S).exposeAction(t,b?N(e,b):N(e))}function Kt(e){return e._reducerDefinitionType==="asyncThunk"}function Vt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Wt({type:e,reducerName:t},s,l,d){if(!d)throw new Error($(18));const{payloadCreator:S,fulfilled:b,pending:C,rejected:q,settled:w,options:M}=s,R=d(e,S,M);l.exposeAction(t,R),b&&l.addCase(R.fulfilled,b),C&&l.addCase(R.pending,C),q&&l.addCase(R.rejected,q),w&&l.addMatcher(R.settled,w),l.exposeCaseReducer(t,{fulfilled:b||de,pending:C||de,rejected:q||de,settled:w||de})}function de(){}function $(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ot=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(ot||{});function Ht(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var Ue=W;function ut(e,t){if(e===t||!(Ue(e)&&Ue(t)||Array.isArray(e)&&Array.isArray(t)))return t;const s=Object.keys(t),l=Object.keys(e);let d=s.length===l.length;const S=Array.isArray(t)?[]:{};for(const b of s)S[b]=ut(e[b],t[b]),d&&(d=e[b]===S[b]);return d?e:S}function ee(e){let t=0;for(const s in e)t++;return t}var xe=e=>[].concat(...e);function Jt(e){return new RegExp("(^|:)//").test(e)}function Gt(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function ye(e){return e!=null}function Xt(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Yt=e=>e.replace(/\/$/,""),Zt=e=>e.replace(/^\//,"");function en(e,t){if(!e)return t;if(!t)return e;if(Jt(t))return t;const s=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=Yt(e),t=Zt(t),`${e}${s}${t}`}function tn(e,t,s){return e.has(t)?e.get(t):e.set(t,s).get(t)}var Le=(...e)=>fetch(...e),nn=e=>e.status>=200&&e.status<=299,rn=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Ne(e){if(!W(e))return e;const t={...e};for(const[s,l]of Object.entries(t))l===void 0&&delete t[s];return t}function Wn({baseUrl:e,prepareHeaders:t=R=>R,fetchFn:s=Le,paramsSerializer:l,isJsonContentType:d=rn,jsonContentType:S="application/json",jsonReplacer:b,timeout:C,responseHandler:q,validateStatus:w,...M}={}){return typeof fetch>"u"&&s===Le&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(f,u,p)=>{const{getState:c,extra:g,endpoint:A,forced:r,type:n}=u;let i,{url:v,headers:h=new Headers(M.headers),params:o=void 0,responseHandler:a=q??"json",validateStatus:y=w??nn,timeout:m=C,...E}=typeof f=="string"?{url:f}:f,O,I=u.signal;m&&(O=new AbortController,u.signal.addEventListener("abort",O.abort),I=O.signal);let D={...M,signal:I,...E};h=new Headers(Ne(h)),D.headers=await t(h,{getState:c,arg:f,extra:g,endpoint:A,forced:r,type:n,extraOptions:p})||h;const j=x=>typeof x=="object"&&(W(x)||Array.isArray(x)||typeof x.toJSON=="function");if(!D.headers.has("content-type")&&j(D.body)&&D.headers.set("content-type",S),j(D.body)&&d(D.headers)&&(D.body=JSON.stringify(D.body,b)),o){const x=~v.indexOf("?")?"&":"?",J=l?l(o):new URLSearchParams(Ne(o));v+=x+J}v=en(e,v);const _=new Request(v,D);i={request:new Request(v,D)};let T,F=!1,k=O&&setTimeout(()=>{F=!0,O.abort()},m);try{T=await s(_)}catch(x){return{error:{status:F?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(x)},meta:i}}finally{k&&clearTimeout(k),O==null||O.signal.removeEventListener("abort",O.abort)}const z=T.clone();i.response=z;let L,U="";try{let x;if(await Promise.all([R(T,a).then(J=>L=J,J=>x=J),z.text().then(J=>U=J,()=>{})]),x)throw x}catch(x){return{error:{status:"PARSING_ERROR",originalStatus:T.status,data:U,error:String(x)},meta:i}}return y(T,L)?{data:L,meta:i}:{error:{status:T.status,data:L},meta:i}};async function R(f,u){if(typeof u=="function")return u(f);if(u==="content-type"&&(u=d(f.headers)?"json":"text"),u==="json"){const p=await f.text();return p.length?JSON.parse(p):null}return f.text()}}var $e=class{constructor(e,t=void 0){this.value=e,this.meta=t}},Ie=N("__rtkq/focused"),ct=N("__rtkq/unfocused"),De=N("__rtkq/online"),at=N("__rtkq/offline");function lt(e){return e.type==="query"}function sn(e){return e.type==="mutation"}function je(e,t,s,l,d,S){return on(e)?e(t,s,l,d).filter(ye).map(Ee).map(S):Array.isArray(e)?e.map(Ee).map(S):[]}function on(e){return typeof e=="function"}function Ee(e){return typeof e=="string"?{type:e}:e}function un(e,t){return e.catch(t)}var ue=Symbol("forceQueryFn"),Ae=e=>typeof e[ue]=="function";function cn({serializeQueryArgs:e,queryThunk:t,mutationThunk:s,api:l,context:d}){const S=new Map,b=new Map,{unsubscribeQueryResult:C,removeMutationResult:q,updateSubscriptionOptions:w}=l.internalActions;return{buildInitiateQuery:p,buildInitiateMutation:c,getRunningQueryThunk:M,getRunningMutationThunk:R,getRunningQueriesThunk:f,getRunningMutationsThunk:u};function M(g,A){return r=>{var v;const n=d.endpointDefinitions[g],i=e({queryArgs:A,endpointDefinition:n,endpointName:g});return(v=S.get(r))==null?void 0:v[i]}}function R(g,A){return r=>{var n;return(n=b.get(r))==null?void 0:n[A]}}function f(){return g=>Object.values(S.get(g)||{}).filter(ye)}function u(){return g=>Object.values(b.get(g)||{}).filter(ye)}function p(g,A){const r=(n,{subscribe:i=!0,forceRefetch:v,subscriptionOptions:h,[ue]:o,...a}={})=>(y,m)=>{var L;const E=e({queryArgs:n,endpointDefinition:A,endpointName:g}),O=t({...a,type:"query",subscribe:i,forceRefetch:v,subscriptionOptions:h,endpointName:g,originalArgs:n,queryCacheKey:E,[ue]:o}),I=l.endpoints[g].select(n),D=y(O),j=I(m()),{requestId:_,abort:P}=D,T=j.requestId!==_,F=(L=S.get(y))==null?void 0:L[E],k=()=>I(m()),z=Object.assign(o?D.then(k):T&&!F?Promise.resolve(j):Promise.all([F,D]).then(k),{arg:n,requestId:_,subscriptionOptions:h,queryCacheKey:E,abort:P,async unwrap(){const U=await z;if(U.isError)throw U.error;return U.data},refetch:()=>y(r(n,{subscribe:!1,forceRefetch:!0})),unsubscribe(){i&&y(C({queryCacheKey:E,requestId:_}))},updateSubscriptionOptions(U){z.subscriptionOptions=U,y(w({endpointName:g,requestId:_,queryCacheKey:E,options:U}))}});if(!F&&!T&&!o){const U=tn(S,y,{});U[E]=z,z.then(()=>{delete U[E],ee(U)||S.delete(y)})}return z};return r}function c(g){return(A,{track:r=!0,fixedCacheKey:n}={})=>(i,v)=>{const h=s({type:"mutation",endpointName:g,originalArgs:A,track:r,fixedCacheKey:n}),o=i(h),{requestId:a,abort:y,unwrap:m}=o,E=un(o.unwrap().then(j=>({data:j})),j=>({error:j})),O=()=>{i(q({requestId:a,fixedCacheKey:n}))},I=Object.assign(E,{arg:o.arg,requestId:a,abort:y,unwrap:m,reset:O}),D=b.get(i)||{};return b.set(i,D),D[a]=I,I.then(()=>{delete D[a],ee(D)||b.delete(i)}),n&&(D[n]=I,I.then(()=>{D[n]===I&&(delete D[n],ee(D)||b.delete(i))})),I}}}function Be(e){return e}function an({reducerPath:e,baseQuery:t,context:{endpointDefinitions:s},serializeQueryArgs:l,api:d,assertTagType:S}){const b=(r,n,i,v)=>(h,o)=>{const a=s[r],y=l({queryArgs:n,endpointDefinition:a,endpointName:r});if(h(d.internalActions.queryResultPatched({queryCacheKey:y,patches:i})),!v)return;const m=d.endpoints[r].select(n)(o()),E=je(a.providesTags,m.data,void 0,n,{},S);h(d.internalActions.updateProvidedBy({queryCacheKey:y,providedTags:E}))},C=(r,n,i,v=!0)=>(h,o)=>{const y=d.endpoints[r].select(n)(o()),m={patches:[],inversePatches:[],undo:()=>h(d.util.patchQueryData(r,n,m.inversePatches,v))};if(y.status==="uninitialized")return m;let E;if("data"in y)if(qe(y.data)){const[O,I,D]=tt(y.data,i);m.patches.push(...I),m.inversePatches.push(...D),E=O}else E=i(y.data),m.patches.push({op:"replace",path:[],value:E}),m.inversePatches.push({op:"replace",path:[],value:y.data});return m.patches.length===0||h(d.util.patchQueryData(r,n,m.patches,v)),m},q=(r,n,i)=>v=>v(d.endpoints[r].initiate(n,{subscribe:!1,forceRefetch:!0,[ue]:()=>({data:i})})),w=async(r,{signal:n,abort:i,rejectWithValue:v,fulfillWithValue:h,dispatch:o,getState:a,extra:y})=>{const m=s[r.endpointName];try{let E=Be,O;const I={signal:n,abort:i,dispatch:o,getState:a,extra:y,endpoint:r.endpointName,type:r.type,forced:r.type==="query"?M(r,a()):void 0,queryCacheKey:r.type==="query"?r.queryCacheKey:void 0},D=r.type==="query"?r[ue]:void 0;if(D?O=D():m.query?(O=await t(m.query(r.originalArgs),I,m.extraOptions),m.transformResponse&&(E=m.transformResponse)):O=await m.queryFn(r.originalArgs,I,m.extraOptions,j=>t(j,I,m.extraOptions)),typeof ht<"u",O.error)throw new $e(O.error,O.meta);return h(await E(O.data,O.meta,r.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:O.meta,[G]:!0})}catch(E){let O=E;if(O instanceof $e){let I=Be;m.query&&m.transformErrorResponse&&(I=m.transformErrorResponse);try{return v(await I(O.value,O.meta,r.originalArgs),{baseQueryMeta:O.meta,[G]:!0})}catch(D){O=D}}throw console.error(O),O}};function M(r,n){var a,y,m;const i=(y=(a=n[e])==null?void 0:a.queries)==null?void 0:y[r.queryCacheKey],v=(m=n[e])==null?void 0:m.config.refetchOnMountOrArgChange,h=i==null?void 0:i.fulfilledTimeStamp,o=r.forceRefetch??(r.subscribe&&v);return o?o===!0||(Number(new Date)-Number(h))/1e3>=o:!1}const R=ze(`${e}/executeQuery`,w,{getPendingMeta(){return{startedTimeStamp:Date.now(),[G]:!0}},condition(r,{getState:n}){var m,E,O;const i=n(),v=(E=(m=i[e])==null?void 0:m.queries)==null?void 0:E[r.queryCacheKey],h=v==null?void 0:v.fulfilledTimeStamp,o=r.originalArgs,a=v==null?void 0:v.originalArgs,y=s[r.endpointName];return Ae(r)?!0:(v==null?void 0:v.status)==="pending"?!1:M(r,i)||lt(y)&&((O=y==null?void 0:y.forceRefetch)!=null&&O.call(y,{currentArg:o,previousArg:a,endpointState:v,state:i}))?!0:!h},dispatchConditionRejection:!0}),f=ze(`${e}/executeMutation`,w,{getPendingMeta(){return{startedTimeStamp:Date.now(),[G]:!0}}}),u=r=>"force"in r,p=r=>"ifOlderThan"in r,c=(r,n,i)=>(v,h)=>{const o=u(i)&&i.force,a=p(i)&&i.ifOlderThan,y=(E=!0)=>{const O={forceRefetch:E,isPrefetch:!0};return d.endpoints[r].initiate(n,O)},m=d.endpoints[r].select(n)(h());if(o)v(y());else if(a){const E=m==null?void 0:m.fulfilledTimeStamp;if(!E){v(y());return}(Number(new Date)-Number(new Date(E)))/1e3>=a&&v(y())}else v(y(!1))};function g(r){return n=>{var i,v;return((v=(i=n==null?void 0:n.meta)==null?void 0:i.arg)==null?void 0:v.endpointName)===r}}function A(r,n){return{matchPending:oe(Ce(r),g(n)),matchFulfilled:oe(H(r),g(n)),matchRejected:oe(te(r),g(n))}}return{queryThunk:R,mutationThunk:f,prefetch:c,updateQueryData:C,upsertQueryData:q,patchQueryData:b,buildMatchThunkActions:A}}function dt(e,t,s,l){return je(s[e.meta.arg.endpointName][t],H(e)?e.payload:void 0,ge(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,l)}function fe(e,t,s){const l=e[t];l&&s(l)}function ce(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function Ke(e,t,s){const l=e[ce(t)];l&&s(l)}var re={};function ln({reducerPath:e,queryThunk:t,mutationThunk:s,serializeQueryArgs:l,context:{endpointDefinitions:d,apiUid:S,extractRehydrationInfo:b,hasRehydrationInfo:C},assertTagType:q,config:w}){const M=N(`${e}/resetApiState`);function R(h,o,a,y){var m;h[m=o.queryCacheKey]??(h[m]={status:"uninitialized",endpointName:o.endpointName}),fe(h,o.queryCacheKey,E=>{E.status="pending",E.requestId=a&&E.requestId?E.requestId:y.requestId,o.originalArgs!==void 0&&(E.originalArgs=o.originalArgs),E.startedTimeStamp=y.startedTimeStamp})}function f(h,o,a){fe(h,o.arg.queryCacheKey,y=>{if(y.requestId!==o.requestId&&!Ae(o.arg))return;const{merge:m}=d[o.arg.endpointName];if(y.status="fulfilled",m)if(y.data!==void 0){const{fulfilledTimeStamp:E,arg:O,baseQueryMeta:I,requestId:D}=o;let j=ae(y.data,_=>m(_,a,{arg:O.originalArgs,baseQueryMeta:I,fulfilledTimeStamp:E,requestId:D}));y.data=j}else y.data=a;else y.data=d[o.arg.endpointName].structuralSharing??!0?ut(et(y.data)?vt(y.data):y.data,a):a;delete y.error,y.fulfilledTimeStamp=o.fulfilledTimeStamp})}const u=X({name:`${e}/queries`,initialState:re,reducers:{removeQueryResult:{reducer(h,{payload:{queryCacheKey:o}}){delete h[o]},prepare:ne()},cacheEntriesUpserted:{reducer(h,o){for(const a of o.payload){const{queryDescription:y,value:m}=a;R(h,y,!0,{arg:y,requestId:o.meta.requestId,startedTimeStamp:o.meta.timestamp}),f(h,{arg:y,requestId:o.meta.requestId,fulfilledTimeStamp:o.meta.timestamp,baseQueryMeta:{}},m)}},prepare:h=>({payload:h.map(y=>{const{endpointName:m,arg:E,value:O}=y,I=d[m];return{queryDescription:{type:"query",endpointName:m,originalArgs:y.arg,queryCacheKey:l({queryArgs:E,endpointDefinition:I,endpointName:m})},value:O}}),meta:{[G]:!0,requestId:Oe(),timestamp:Date.now()}})},queryResultPatched:{reducer(h,{payload:{queryCacheKey:o,patches:a}}){fe(h,o,y=>{y.data=Qe(y.data,a.concat())})},prepare:ne()}},extraReducers(h){h.addCase(t.pending,(o,{meta:a,meta:{arg:y}})=>{const m=Ae(y);R(o,y,m,a)}).addCase(t.fulfilled,(o,{meta:a,payload:y})=>{f(o,a,y)}).addCase(t.rejected,(o,{meta:{condition:a,arg:y,requestId:m},error:E,payload:O})=>{fe(o,y.queryCacheKey,I=>{if(!a){if(I.requestId!==m)return;I.status="rejected",I.error=O??E}})}).addMatcher(C,(o,a)=>{const{queries:y}=b(a);for(const[m,E]of Object.entries(y))((E==null?void 0:E.status)==="fulfilled"||(E==null?void 0:E.status)==="rejected")&&(o[m]=E)})}}),p=X({name:`${e}/mutations`,initialState:re,reducers:{removeMutationResult:{reducer(h,{payload:o}){const a=ce(o);a in h&&delete h[a]},prepare:ne()}},extraReducers(h){h.addCase(s.pending,(o,{meta:a,meta:{requestId:y,arg:m,startedTimeStamp:E}})=>{m.track&&(o[ce(a)]={requestId:y,status:"pending",endpointName:m.endpointName,startedTimeStamp:E})}).addCase(s.fulfilled,(o,{payload:a,meta:y})=>{y.arg.track&&Ke(o,y,m=>{m.requestId===y.requestId&&(m.status="fulfilled",m.data=a,m.fulfilledTimeStamp=y.fulfilledTimeStamp)})}).addCase(s.rejected,(o,{payload:a,error:y,meta:m})=>{m.arg.track&&Ke(o,m,E=>{E.requestId===m.requestId&&(E.status="rejected",E.error=a??y)})}).addMatcher(C,(o,a)=>{const{mutations:y}=b(a);for(const[m,E]of Object.entries(y))((E==null?void 0:E.status)==="fulfilled"||(E==null?void 0:E.status)==="rejected")&&m!==(E==null?void 0:E.requestId)&&(o[m]=E)})}}),c=X({name:`${e}/invalidation`,initialState:re,reducers:{updateProvidedBy:{reducer(h,o){var m,E;const{queryCacheKey:a,providedTags:y}=o.payload;for(const O of Object.values(h))for(const I of Object.values(O)){const D=I.indexOf(a);D!==-1&&I.splice(D,1)}for(const{type:O,id:I}of y){const D=(m=h[O]??(h[O]={}))[E=I||"__internal_without_id"]??(m[E]=[]);D.includes(a)||D.push(a)}},prepare:ne()}},extraReducers(h){h.addCase(u.actions.removeQueryResult,(o,{payload:{queryCacheKey:a}})=>{for(const y of Object.values(o))for(const m of Object.values(y)){const E=m.indexOf(a);E!==-1&&m.splice(E,1)}}).addMatcher(C,(o,a)=>{var m,E;const{provided:y}=b(a);for(const[O,I]of Object.entries(y))for(const[D,j]of Object.entries(I)){const _=(m=o[O]??(o[O]={}))[E=D||"__internal_without_id"]??(m[E]=[]);for(const P of j)_.includes(P)||_.push(P)}}).addMatcher(B(H(t),ge(t)),(o,a)=>{const y=dt(a,"providesTags",d,q),{queryCacheKey:m}=a.meta.arg;c.caseReducers.updateProvidedBy(o,c.actions.updateProvidedBy({queryCacheKey:m,providedTags:y}))})}}),g=X({name:`${e}/subscriptions`,initialState:re,reducers:{updateSubscriptionOptions(h,o){},unsubscribeQueryResult(h,o){},internal_getRTKQSubscriptions(){}}}),A=X({name:`${e}/internalSubscriptions`,initialState:re,reducers:{subscriptionsUpdated:{reducer(h,o){return Qe(h,o.payload)},prepare:ne()}}}),r=X({name:`${e}/config`,initialState:{online:Xt(),focused:Gt(),middlewareRegistered:!1,...w},reducers:{middlewareRegistered(h,{payload:o}){h.middlewareRegistered=h.middlewareRegistered==="conflict"||S!==o?"conflict":!0}},extraReducers:h=>{h.addCase(De,o=>{o.online=!0}).addCase(at,o=>{o.online=!1}).addCase(Ie,o=>{o.focused=!0}).addCase(ct,o=>{o.focused=!1}).addMatcher(C,o=>({...o}))}}),n=Ye({queries:u.reducer,mutations:p.reducer,provided:c.reducer,subscriptions:A.reducer,config:r.reducer}),i=(h,o)=>n(M.match(o)?void 0:h,o),v={...r.actions,...u.actions,...g.actions,...A.actions,...p.actions,...c.actions,resetApiState:M};return{reducer:i,actions:v}}var V=Symbol.for("RTKQ/skipToken"),ft={status:"uninitialized"},Ve=ae(ft,()=>{}),We=ae(ft,()=>{});function dn({serializeQueryArgs:e,reducerPath:t,createSelector:s}){const l=R=>Ve,d=R=>We;return{buildQuerySelector:C,buildMutationSelector:q,selectInvalidatedBy:w,selectCachedArgsForQuery:M};function S(R){return{...R,...Ht(R.status)}}function b(R){return R[t]}function C(R,f){return u=>{if(u===V)return s(l,S);const p=e({queryArgs:u,endpointDefinition:f,endpointName:R});return s(g=>{var A,r;return((r=(A=b(g))==null?void 0:A.queries)==null?void 0:r[p])??Ve},S)}}function q(){return R=>{let f;return typeof R=="object"?f=ce(R)??V:f=R,s(f===V?d:c=>{var g,A;return((A=(g=b(c))==null?void 0:g.mutations)==null?void 0:A[f])??We},S)}}function w(R,f){const u=R[t],p=new Set;for(const c of f.filter(ye).map(Ee)){const g=u.provided[c.type];if(!g)continue;let A=(c.id!==void 0?g[c.id]:xe(Object.values(g)))??[];for(const r of A)p.add(r)}return xe(Array.from(p.values()).map(c=>{const g=u.queries[c];return g?[{queryCacheKey:c,endpointName:g.endpointName,originalArgs:g.originalArgs}]:[]}))}function M(R,f){return Object.values(R[t].queries).filter(u=>(u==null?void 0:u.endpointName)===f&&u.status!=="uninitialized").map(u=>u.originalArgs)}}var Y=WeakMap?new WeakMap:void 0,He=({endpointName:e,queryArgs:t})=>{let s="";const l=Y==null?void 0:Y.get(t);if(typeof l=="string")s=l;else{const d=JSON.stringify(t,(S,b)=>(b=typeof b=="bigint"?{$bigint:b.toString()}:b,b=W(b)?Object.keys(b).sort().reduce((C,q)=>(C[q]=b[q],C),{}):b,b));W(t)&&(Y==null||Y.set(t,d)),s=d}return`${e}(${s})`};function fn(...e){return function(s){const l=Te(w=>{var M;return(M=s.extractRehydrationInfo)==null?void 0:M.call(s,w,{reducerPath:s.reducerPath??"api"})}),d={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...s,extractRehydrationInfo:l,serializeQueryArgs(w){let M=He;if("serializeQueryArgs"in w.endpointDefinition){const R=w.endpointDefinition.serializeQueryArgs;M=f=>{const u=R(f);return typeof u=="string"?u:He({...f,queryArgs:u})}}else s.serializeQueryArgs&&(M=s.serializeQueryArgs);return M(w)},tagTypes:[...s.tagTypes||[]]},S={endpointDefinitions:{},batch(w){w()},apiUid:Oe(),extractRehydrationInfo:l,hasRehydrationInfo:Te(w=>l(w)!=null)},b={injectEndpoints:q,enhanceEndpoints({addTagTypes:w,endpoints:M}){if(w)for(const R of w)d.tagTypes.includes(R)||d.tagTypes.push(R);if(M)for(const[R,f]of Object.entries(M))typeof f=="function"?f(S.endpointDefinitions[R]):Object.assign(S.endpointDefinitions[R]||{},f);return b}},C=e.map(w=>w.init(b,d,S));function q(w){const M=w.endpoints({query:R=>({...R,type:"query"}),mutation:R=>({...R,type:"mutation"})});for(const[R,f]of Object.entries(M)){if(w.overrideExisting!==!0&&R in S.endpointDefinitions){if(w.overrideExisting==="throw")throw new Error($(39));continue}S.endpointDefinitions[R]=f;for(const u of C)u.injectEndpoint(R,f)}return b}return b.injectEndpoints({endpoints:s.endpoints})}}function K(e,...t){return Object.assign(e,...t)}var pn=({api:e,queryThunk:t,internalState:s})=>{const l=`${e.reducerPath}/subscriptions`;let d=null,S=null;const{updateSubscriptionOptions:b,unsubscribeQueryResult:C}=e.internalActions,q=(u,p)=>{var g,A,r;if(b.match(p)){const{queryCacheKey:n,requestId:i,options:v}=p.payload;return(g=u==null?void 0:u[n])!=null&&g[i]&&(u[n][i]=v),!0}if(C.match(p)){const{queryCacheKey:n,requestId:i}=p.payload;return u[n]&&delete u[n][i],!0}if(e.internalActions.removeQueryResult.match(p))return delete u[p.payload.queryCacheKey],!0;if(t.pending.match(p)){const{meta:{arg:n,requestId:i}}=p,v=u[A=n.queryCacheKey]??(u[A]={});return v[`${i}_running`]={},n.subscribe&&(v[i]=n.subscriptionOptions??v[i]??{}),!0}let c=!1;if(t.fulfilled.match(p)||t.rejected.match(p)){const n=u[p.meta.arg.queryCacheKey]||{},i=`${p.meta.requestId}_running`;c||(c=!!n[i]),delete n[i]}if(t.rejected.match(p)){const{meta:{condition:n,arg:i,requestId:v}}=p;if(n&&i.subscribe){const h=u[r=i.queryCacheKey]??(u[r]={});h[v]=i.subscriptionOptions??h[v]??{},c=!0}}return c},w=()=>s.currentSubscriptions,f={getSubscriptions:w,getSubscriptionCount:u=>{const c=w()[u]??{};return ee(c)},isRequestSubscribed:(u,p)=>{var g;const c=w();return!!((g=c==null?void 0:c[u])!=null&&g[p])}};return(u,p)=>{if(d||(d=JSON.parse(JSON.stringify(s.currentSubscriptions))),e.util.resetApiState.match(u))return d=s.currentSubscriptions={},S=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(u))return[!1,f];const c=q(s.currentSubscriptions,u);let g=!0;if(c){S||(S=setTimeout(()=>{const n=JSON.parse(JSON.stringify(s.currentSubscriptions)),[,i]=tt(d,()=>n);p.next(e.internalActions.subscriptionsUpdated(i)),d=n,S=null},500));const A=typeof u.type=="string"&&!!u.type.startsWith(l),r=t.rejected.match(u)&&u.meta.condition&&!!u.meta.arg.subscribe;g=!A&&!r}return[g,!1]}};function yn(e){for(const t in e)return!1;return!0}var hn=2147483647/1e3-1,gn=({reducerPath:e,api:t,queryThunk:s,context:l,internalState:d})=>{const{removeQueryResult:S,unsubscribeQueryResult:b,cacheEntriesUpserted:C}=t.internalActions,q=B(b.match,s.fulfilled,s.rejected,C.match);function w(u){const p=d.currentSubscriptions[u];return!!p&&!yn(p)}const M={},R=(u,p,c)=>{var g;if(q(u)){const A=p.getState()[e];let r;if(C.match(u))r=u.payload.map(n=>n.queryDescription.queryCacheKey);else{const{queryCacheKey:n}=b.match(u)?u.payload:u.meta.arg;r=[n]}for(const n of r)f(n,(g=A.queries[n])==null?void 0:g.endpointName,p,A.config)}if(t.util.resetApiState.match(u))for(const[A,r]of Object.entries(M))r&&clearTimeout(r),delete M[A];if(l.hasRehydrationInfo(u)){const A=p.getState()[e],{queries:r}=l.extractRehydrationInfo(u);for(const[n,i]of Object.entries(r))f(n,i==null?void 0:i.endpointName,p,A.config)}};function f(u,p,c,g){const A=l.endpointDefinitions[p],r=(A==null?void 0:A.keepUnusedDataFor)??g.keepUnusedDataFor;if(r===1/0)return;const n=Math.max(0,Math.min(r,hn));if(!w(u)){const i=M[u];i&&clearTimeout(i),M[u]=setTimeout(()=>{w(u)||c.dispatch(S({queryCacheKey:u})),delete M[u]},n*1e3)}}return R},Je=new Error("Promise never resolved before cacheEntryRemoved."),mn=({api:e,reducerPath:t,context:s,queryThunk:l,mutationThunk:d,internalState:S})=>{const b=Me(l),C=Me(d),q=H(l,d),w={};function M(c,g,A){const r=w[c];r!=null&&r.valueResolved&&(r.valueResolved({data:g,meta:A}),delete r.valueResolved)}function R(c){const g=w[c];g&&(delete w[c],g.cacheEntryRemoved())}const f=(c,g,A)=>{const r=u(c);function n(i,v,h,o){const a=A[t].queries[v],y=g.getState()[t].queries[v];!a&&y&&p(i,o,v,g,h)}if(l.pending.match(c))n(c.meta.arg.endpointName,r,c.meta.requestId,c.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(c))for(const{queryDescription:i,value:v}of c.payload){const{endpointName:h,originalArgs:o,queryCacheKey:a}=i;n(h,a,c.meta.requestId,o),M(a,v,{})}else if(d.pending.match(c))g.getState()[t].mutations[r]&&p(c.meta.arg.endpointName,c.meta.arg.originalArgs,r,g,c.meta.requestId);else if(q(c))M(r,c.payload,c.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(c)||e.internalActions.removeMutationResult.match(c))R(r);else if(e.util.resetApiState.match(c))for(const i of Object.keys(w))R(i)};function u(c){return b(c)?c.meta.arg.queryCacheKey:C(c)?c.meta.arg.fixedCacheKey??c.meta.requestId:e.internalActions.removeQueryResult.match(c)?c.payload.queryCacheKey:e.internalActions.removeMutationResult.match(c)?ce(c.payload):""}function p(c,g,A,r,n){const i=s.endpointDefinitions[c],v=i==null?void 0:i.onCacheEntryAdded;if(!v)return;const h={},o=new Promise(I=>{h.cacheEntryRemoved=I}),a=Promise.race([new Promise(I=>{h.valueResolved=I}),o.then(()=>{throw Je})]);a.catch(()=>{}),w[A]=h;const y=e.endpoints[c].select(i.type==="query"?g:A),m=r.dispatch((I,D,j)=>j),E={...r,getCacheEntry:()=>y(r.getState()),requestId:n,extra:m,updateCachedData:i.type==="query"?I=>r.dispatch(e.util.updateQueryData(c,g,I)):void 0,cacheDataLoaded:a,cacheEntryRemoved:o},O=v(g,E);Promise.resolve(O).catch(I=>{if(I!==Je)throw I})}return f},bn=({api:e,context:{apiUid:t},reducerPath:s})=>(l,d)=>{e.util.resetApiState.match(l)&&d.dispatch(e.internalActions.middlewareRegistered(t))},vn=({reducerPath:e,context:t,context:{endpointDefinitions:s},mutationThunk:l,queryThunk:d,api:S,assertTagType:b,refetchQuery:C,internalState:q})=>{const{removeQueryResult:w}=S.internalActions,M=B(H(l),ge(l)),R=B(H(l,d),te(l,d));let f=[];const u=(g,A)=>{M(g)?c(dt(g,"invalidatesTags",s,b),A):R(g)?c([],A):S.util.invalidateTags.match(g)&&c(je(g.payload,void 0,void 0,void 0,void 0,b),A)};function p(g){var A,r;for(const n in g.queries)if(((A=g.queries[n])==null?void 0:A.status)==="pending")return!0;for(const n in g.mutations)if(((r=g.mutations[n])==null?void 0:r.status)==="pending")return!0;return!1}function c(g,A){const r=A.getState(),n=r[e];if(f.push(...g),n.config.invalidationBehavior==="delayed"&&p(n))return;const i=f;if(f=[],i.length===0)return;const v=S.util.selectInvalidatedBy(r,i);t.batch(()=>{const h=Array.from(v.values());for(const{queryCacheKey:o}of h){const a=n.queries[o],y=q.currentSubscriptions[o]??{};a&&(ee(y)===0?A.dispatch(w({queryCacheKey:o})):a.status!=="uninitialized"&&A.dispatch(C(a)))}})}return u},Sn=({reducerPath:e,queryThunk:t,api:s,refetchQuery:l,internalState:d})=>{const S={},b=(f,u)=>{(s.internalActions.updateSubscriptionOptions.match(f)||s.internalActions.unsubscribeQueryResult.match(f))&&q(f.payload,u),(t.pending.match(f)||t.rejected.match(f)&&f.meta.condition)&&q(f.meta.arg,u),(t.fulfilled.match(f)||t.rejected.match(f)&&!f.meta.condition)&&C(f.meta.arg,u),s.util.resetApiState.match(f)&&M()};function C({queryCacheKey:f},u){const p=u.getState()[e],c=p.queries[f],g=d.currentSubscriptions[f];if(!c||c.status==="uninitialized")return;const{lowestPollingInterval:A,skipPollingIfUnfocused:r}=R(g);if(!Number.isFinite(A))return;const n=S[f];n!=null&&n.timeout&&(clearTimeout(n.timeout),n.timeout=void 0);const i=Date.now()+A;S[f]={nextPollTimestamp:i,pollingInterval:A,timeout:setTimeout(()=>{(p.config.focused||!r)&&u.dispatch(l(c)),C({queryCacheKey:f},u)},A)}}function q({queryCacheKey:f},u){const c=u.getState()[e].queries[f],g=d.currentSubscriptions[f];if(!c||c.status==="uninitialized")return;const{lowestPollingInterval:A}=R(g);if(!Number.isFinite(A)){w(f);return}const r=S[f],n=Date.now()+A;(!r||n<r.nextPollTimestamp)&&C({queryCacheKey:f},u)}function w(f){const u=S[f];u!=null&&u.timeout&&clearTimeout(u.timeout),delete S[f]}function M(){for(const f of Object.keys(S))w(f)}function R(f={}){let u=!1,p=Number.POSITIVE_INFINITY;for(let c in f)f[c].pollingInterval&&(p=Math.min(f[c].pollingInterval,p),u=f[c].skipPollingIfUnfocused||u);return{lowestPollingInterval:p,skipPollingIfUnfocused:u}}return b},Rn=({api:e,context:t,queryThunk:s,mutationThunk:l})=>{const d=Ce(s,l),S=te(s,l),b=H(s,l),C={};return(w,M)=>{var R,f;if(d(w)){const{requestId:u,arg:{endpointName:p,originalArgs:c}}=w.meta,g=t.endpointDefinitions[p],A=g==null?void 0:g.onQueryStarted;if(A){const r={},n=new Promise((o,a)=>{r.resolve=o,r.reject=a});n.catch(()=>{}),C[u]=r;const i=e.endpoints[p].select(g.type==="query"?c:u),v=M.dispatch((o,a,y)=>y),h={...M,getCacheEntry:()=>i(M.getState()),requestId:u,extra:v,updateCachedData:g.type==="query"?o=>M.dispatch(e.util.updateQueryData(p,c,o)):void 0,queryFulfilled:n};A(c,h)}}else if(b(w)){const{requestId:u,baseQueryMeta:p}=w.meta;(R=C[u])==null||R.resolve({data:w.payload,meta:p}),delete C[u]}else if(S(w)){const{requestId:u,rejectedWithValue:p,baseQueryMeta:c}=w.meta;(f=C[u])==null||f.reject({error:w.payload??w.error,isUnhandledError:!p,meta:c}),delete C[u]}}},wn=({reducerPath:e,context:t,api:s,refetchQuery:l,internalState:d})=>{const{removeQueryResult:S}=s.internalActions,b=(q,w)=>{Ie.match(q)&&C(w,"refetchOnFocus"),De.match(q)&&C(w,"refetchOnReconnect")};function C(q,w){const M=q.getState()[e],R=M.queries,f=d.currentSubscriptions;t.batch(()=>{for(const u of Object.keys(f)){const p=R[u],c=f[u];if(!c||!p)continue;(Object.values(c).some(A=>A[w]===!0)||Object.values(c).every(A=>A[w]===void 0)&&M.config[w])&&(ee(c)===0?q.dispatch(S({queryCacheKey:u})):p.status!=="uninitialized"&&q.dispatch(l(p)))}})}return b};function Mn(e){const{reducerPath:t,queryThunk:s,api:l,context:d}=e,{apiUid:S}=d,b={invalidateTags:N(`${t}/invalidateTags`)},C=R=>R.type.startsWith(`${t}/`),q=[bn,gn,vn,Sn,mn,Rn];return{middleware:R=>{let f=!1;const p={...e,internalState:{currentSubscriptions:{}},refetchQuery:M,isThisApiSliceAction:C},c=q.map(r=>r(p)),g=pn(p),A=wn(p);return r=>n=>{if(!Ze(n))return r(n);f||(f=!0,R.dispatch(l.internalActions.middlewareRegistered(S)));const i={...R,next:r},v=R.getState(),[h,o]=g(n,i,v);let a;if(h?a=r(n):a=o,R.getState()[t]&&(A(n,i,v),C(n)||d.hasRehydrationInfo(n)))for(const y of c)y(n,i,v);return a}},actions:b};function M(R){return e.api.endpoints[R.endpointName].initiate(R.originalArgs,{subscribe:!1,forceRefetch:!0})}}var Ge=Symbol(),En=({createSelector:e=nt}={})=>({name:Ge,init(t,{baseQuery:s,tagTypes:l,reducerPath:d,serializeQueryArgs:S,keepUnusedDataFor:b,refetchOnMountOrArgChange:C,refetchOnFocus:q,refetchOnReconnect:w,invalidationBehavior:M},R){bt();const f=T=>T;Object.assign(t,{reducerPath:d,endpoints:{},internalActions:{onOnline:De,onOffline:at,onFocus:Ie,onFocusLost:ct},util:{}});const{queryThunk:u,mutationThunk:p,patchQueryData:c,updateQueryData:g,upsertQueryData:A,prefetch:r,buildMatchThunkActions:n}=an({baseQuery:s,reducerPath:d,context:R,api:t,serializeQueryArgs:S,assertTagType:f}),{reducer:i,actions:v}=ln({context:R,queryThunk:u,mutationThunk:p,serializeQueryArgs:S,reducerPath:d,assertTagType:f,config:{refetchOnFocus:q,refetchOnReconnect:w,refetchOnMountOrArgChange:C,keepUnusedDataFor:b,reducerPath:d,invalidationBehavior:M}});K(t.util,{patchQueryData:c,updateQueryData:g,upsertQueryData:A,prefetch:r,resetApiState:v.resetApiState,upsertQueryEntries:v.cacheEntriesUpserted}),K(t.internalActions,v);const{middleware:h,actions:o}=Mn({reducerPath:d,context:R,queryThunk:u,mutationThunk:p,api:t,assertTagType:f});K(t.util,o),K(t,{reducer:i,middleware:h});const{buildQuerySelector:a,buildMutationSelector:y,selectInvalidatedBy:m,selectCachedArgsForQuery:E}=dn({serializeQueryArgs:S,reducerPath:d,createSelector:e});K(t.util,{selectInvalidatedBy:m,selectCachedArgsForQuery:E});const{buildInitiateQuery:O,buildInitiateMutation:I,getRunningMutationThunk:D,getRunningMutationsThunk:j,getRunningQueriesThunk:_,getRunningQueryThunk:P}=cn({queryThunk:u,mutationThunk:p,api:t,serializeQueryArgs:S,context:R});return K(t.util,{getRunningMutationThunk:D,getRunningMutationsThunk:j,getRunningQueryThunk:P,getRunningQueriesThunk:_}),{name:Ge,injectEndpoint(T,F){var z;const k=t;(z=k.endpoints)[T]??(z[T]={}),lt(F)?K(k.endpoints[T],{name:T,select:a(T,F),initiate:O(T,F)},n(u,T)):sn(F)&&K(k.endpoints[T],{name:T,select:y(),initiate:I(T)},n(p,T))}}}});function ve(e){return e.replace(e[0],e[0].toUpperCase())}function An(e){return e.type==="query"}function qn(e){return e.type==="mutation"}function pe(e,...t){return Object.assign(e,...t)}var Z=WeakMap?new WeakMap:void 0,Cn=({endpointName:e,queryArgs:t})=>{let s="";const l=Z==null?void 0:Z.get(t);if(typeof l=="string")s=l;else{const d=JSON.stringify(t,(S,b)=>(b=typeof b=="bigint"?{$bigint:b.toString()}:b,b=W(b)?Object.keys(b).sort().reduce((C,q)=>(C[q]=b[q],C),{}):b,b));W(t)&&(Z==null||Z.set(t,d)),s=d}return`${e}(${s})`},Se=Symbol();function Xe(e,t,s,l){const d=Q.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:s,endpointName:l}):e}),[e,t,s,l]),S=Q.useRef(d);return Q.useEffect(()=>{S.current.serialized!==d.serialized&&(S.current=d)},[d]),S.current.serialized===d.serialized?S.current.queryArgs:e}function Re(e){const t=Q.useRef(e);return Q.useEffect(()=>{se(t.current,e)||(t.current=e)},[e]),se(t.current,e)?t.current:e}var On=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",In=On(),Dn=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jn=Dn(),Qn=()=>In||jn?Q.useLayoutEffect:Q.useEffect,Tn=Qn(),kn=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:ot.pending}:e;function _n({api:e,moduleOptions:{batch:t,hooks:{useDispatch:s,useSelector:l,useStore:d},unstable__sideEffectsInRender:S,createSelector:b},serializeQueryArgs:C,context:q}){const w=S?p=>p():Q.useEffect;return{buildQueryHooks:f,buildMutationHook:u,usePrefetch:R};function M(p,c,g){if(c!=null&&c.endpointName&&p.isUninitialized){const{endpointName:h}=c,o=q.endpointDefinitions[h];g!==V&&C({queryArgs:c.originalArgs,endpointDefinition:o,endpointName:h})===C({queryArgs:g,endpointDefinition:o,endpointName:h})&&(c=void 0)}let A=p.isSuccess?p.data:c==null?void 0:c.data;A===void 0&&(A=p.data);const r=A!==void 0,n=p.isLoading,i=(!c||c.isLoading||c.isUninitialized)&&!r&&n,v=p.isSuccess||r&&(n&&!(c!=null&&c.isError)||p.isUninitialized);return{...p,data:A,currentData:p.data,isFetching:n,isLoading:i,isSuccess:v}}function R(p,c){const g=s(),A=Re(c);return Q.useCallback((r,n)=>g(e.util.prefetch(p,r,{...A,...n})),[p,g,A])}function f(p){const c=(r,{refetchOnReconnect:n,refetchOnFocus:i,refetchOnMountOrArgChange:v,skip:h=!1,pollingInterval:o=0,skipPollingIfUnfocused:a=!1}={})=>{const{initiate:y}=e.endpoints[p],m=s(),E=Q.useRef(void 0);if(!E.current){const k=m(e.internalActions.internal_getRTKQSubscriptions());E.current=k}const O=Xe(h?V:r,Cn,q.endpointDefinitions[p],p),I=Re({refetchOnReconnect:n,refetchOnFocus:i,pollingInterval:o,skipPollingIfUnfocused:a}),D=Q.useRef(!1),j=Q.useRef(void 0);let{queryCacheKey:_,requestId:P}=j.current||{},T=!1;_&&P&&(T=E.current.isRequestSubscribed(_,P));const F=!T&&D.current;return w(()=>{D.current=T}),w(()=>{F&&(j.current=void 0)},[F]),w(()=>{var L;const k=j.current;if(O===V){k==null||k.unsubscribe(),j.current=void 0;return}const z=(L=j.current)==null?void 0:L.subscriptionOptions;if(!k||k.arg!==O){k==null||k.unsubscribe();const U=m(y(O,{subscriptionOptions:I,forceRefetch:v}));j.current=U}else I!==z&&k.updateSubscriptionOptions(I)},[m,y,v,O,I,F]),Q.useEffect(()=>()=>{var k;(k=j.current)==null||k.unsubscribe(),j.current=void 0},[]),Q.useMemo(()=>({refetch:()=>{var k;if(!j.current)throw new Error($(38));return(k=j.current)==null?void 0:k.refetch()}}),[])},g=({refetchOnReconnect:r,refetchOnFocus:n,pollingInterval:i=0,skipPollingIfUnfocused:v=!1}={})=>{const{initiate:h}=e.endpoints[p],o=s(),[a,y]=Q.useState(Se),m=Q.useRef(void 0),E=Re({refetchOnReconnect:r,refetchOnFocus:n,pollingInterval:i,skipPollingIfUnfocused:v});w(()=>{var _,P;const j=(_=m.current)==null?void 0:_.subscriptionOptions;E!==j&&((P=m.current)==null||P.updateSubscriptionOptions(E))},[E]);const O=Q.useRef(E);w(()=>{O.current=E},[E]);const I=Q.useCallback(function(j,_=!1){let P;return t(()=>{var T;(T=m.current)==null||T.unsubscribe(),m.current=P=o(h(j,{subscriptionOptions:O.current,forceRefetch:!_})),y(j)}),P},[o,h]),D=Q.useCallback(()=>{var j,_;(j=m.current)!=null&&j.queryCacheKey&&o(e.internalActions.removeQueryResult({queryCacheKey:(_=m.current)==null?void 0:_.queryCacheKey}))},[o]);return Q.useEffect(()=>()=>{var j;(j=m==null?void 0:m.current)==null||j.unsubscribe()},[]),Q.useEffect(()=>{a!==Se&&!m.current&&I(a,!0)},[a,I]),Q.useMemo(()=>[I,a,{reset:D}],[I,a,D])},A=(r,{skip:n=!1,selectFromResult:i}={})=>{const{select:v}=e.endpoints[p],h=Xe(n?V:r,C,q.endpointDefinitions[p],p),o=Q.useRef(void 0),a=Q.useMemo(()=>b([v(h),(I,D)=>D,I=>h],M,{memoizeOptions:{resultEqualityCheck:se}}),[v,h]),y=Q.useMemo(()=>i?b([a],i,{devModeChecks:{identityFunctionCheck:"never"}}):a,[a,i]),m=l(I=>y(I,o.current),se),E=d(),O=a(E.getState(),o.current);return Tn(()=>{o.current=O},[O]),m};return{useQueryState:A,useQuerySubscription:c,useLazyQuerySubscription:g,useLazyQuery(r){const[n,i,{reset:v}]=g(r),h=A(i,{...r,skip:i===Se}),o=Q.useMemo(()=>({lastArg:i}),[i]);return Q.useMemo(()=>[n,{...h,reset:v},o],[n,h,v,o])},useQuery(r,n){const i=c(r,n),v=A(r,{selectFromResult:r===V||n!=null&&n.skip?void 0:kn,...n}),{data:h,status:o,isLoading:a,isSuccess:y,isError:m,error:E}=v;return Q.useDebugValue({data:h,status:o,isLoading:a,isSuccess:y,isError:m,error:E}),Q.useMemo(()=>({...v,...i}),[v,i])}}}function u(p){return({selectFromResult:c,fixedCacheKey:g}={})=>{const{select:A,initiate:r}=e.endpoints[p],n=s(),[i,v]=Q.useState();Q.useEffect(()=>()=>{i!=null&&i.arg.fixedCacheKey||i==null||i.reset()},[i]);const h=Q.useCallback(function(z){const L=n(r(z,{fixedCacheKey:g}));return v(L),L},[n,r,g]),{requestId:o}=i||{},a=Q.useMemo(()=>A({fixedCacheKey:g,requestId:i==null?void 0:i.requestId}),[g,i,A]),y=Q.useMemo(()=>c?b([a],c):a,[c,a]),m=l(y,se),E=g==null?i==null?void 0:i.arg.originalArgs:void 0,O=Q.useCallback(()=>{t(()=>{i&&v(void 0),g&&n(e.internalActions.removeMutationResult({requestId:o,fixedCacheKey:g}))})},[n,g,i,o]),{endpointName:I,data:D,status:j,isLoading:_,isSuccess:P,isError:T,error:F}=m;Q.useDebugValue({endpointName:I,data:D,status:j,isLoading:_,isSuccess:P,isError:T,error:F});const k=Q.useMemo(()=>({...m,originalArgs:E,reset:O}),[m,E,O]);return Q.useMemo(()=>[h,k],[h,k])}}}var Pn=Symbol(),Fn=({batch:e=wt,hooks:t={useDispatch:Mt,useSelector:Et,useStore:At},createSelector:s=nt,unstable__sideEffectsInRender:l=!1,...d}={})=>({name:Pn,init(S,{serializeQueryArgs:b},C){const q=S,{buildQueryHooks:w,buildMutationHook:M,usePrefetch:R}=_n({api:S,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:l,createSelector:s},serializeQueryArgs:b,context:C});return pe(q,{usePrefetch:R}),pe(C,{batch:e}),{injectEndpoint(f,u){if(An(u)){const{useQuery:p,useLazyQuery:c,useLazyQuerySubscription:g,useQueryState:A,useQuerySubscription:r}=w(f);pe(q.endpoints[f],{useQuery:p,useLazyQuery:c,useLazyQuerySubscription:g,useQueryState:A,useQuerySubscription:r}),S[`use${ve(f)}Query`]=p,S[`useLazy${ve(f)}Query`]=c}else if(qn(u)){const p=M(f);pe(q.endpoints[f],{useMutation:p}),S[`use${ve(f)}Mutation`]=p}}}}}),Hn=fn(En(),Fn());export{X as a,Vn as b,Hn as c,Wn as f,ge as i};
